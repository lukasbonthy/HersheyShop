<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>$2 Hershey Full-Size Bars ‚Ä¢ Courtyard Pickup</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            cocoa: {
              950: "#0b0706",
              900: "#140c0a",
              850: "#1b100d",
              800: "#241411",
              700: "#351c17",
              600: "#4a241d",
              500: "#623126",
              200: "#e7d7cc",
            },
            cream: "#f6efe8",
            gold: "#e8c87b",
            mint: "#27f2b3",
          },
          boxShadow: {
            glow: "0 0 0 1px rgba(255,255,255,.08), 0 30px 80px rgba(0,0,0,.55)",
            soft: "0 12px 40px rgba(0,0,0,.45)"
          }
        }
      }
    }
  </script>

  <style>
    /* ===== Background / texture ===== */
    .noise {
      background:
        radial-gradient(900px circle at 15% 10%, rgba(232,200,123,.14), transparent 45%),
        radial-gradient(800px circle at 90% 35%, rgba(39,242,179,.10), transparent 38%),
        radial-gradient(700px circle at 45% 90%, rgba(255,255,255,.08), transparent 45%),
        linear-gradient(120deg, rgba(255,255,255,.05), rgba(255,255,255,.015));
    }
    .grain::before{
      content:"";
      position:absolute; inset:0;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='240' height='240'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='240' height='240' filter='url(%23n)' opacity='.15'/%3E%3C/svg%3E");
      opacity:.18;
      mix-blend-mode: overlay;
      pointer-events:none;
    }

    /* ===== Smooth section reveal ===== */
    .reveal { opacity:0; transform: translateY(16px); filter: blur(6px); }
    .reveal.in { opacity:1; transform: translateY(0); filter: blur(0); transition: 700ms cubic-bezier(.2,.8,.2,1); }

    /* ===== Floating product art ===== */
    @keyframes floaty { 0%{transform:translate3d(0,0,0) rotate(-7deg)} 50%{transform:translate3d(0,-14px,0) rotate(4deg)} 100%{transform:translate3d(0,0,0) rotate(-7deg)} }
    @keyframes floaty2 { 0%{transform:translate3d(0,0,0) rotate(10deg)} 50%{transform:translate3d(0,-10px,0) rotate(-4deg)} 100%{transform:translate3d(0,0,0) rotate(10deg)} }

    /* ===== Shimmer sweep ===== */
    @keyframes sweep { 0%{transform:translateX(-70%);opacity:0} 10%{opacity:1} 40%{transform:translateX(70%);opacity:1} 55%{opacity:0} 100%{transform:translateX(70%);opacity:0} }
    .shine{position:relative; overflow:hidden}
    .shine::after{
      content:"";
      position:absolute; inset:-2px;
      background: linear-gradient(115deg, transparent 0%, rgba(255,255,255,0.18) 22%, transparent 44%);
      transform: translateX(-60%);
      animation: sweep 6s infinite ease-in-out;
      pointer-events:none;
    }

    /* ===== Buttons ===== */
    .ripple { position: relative; overflow: hidden; }
    .ripple span.rip {
      position:absolute;
      border-radius:9999px;
      transform: translate(-50%,-50%);
      animation: rip 650ms ease-out forwards;
      background: rgba(255,255,255,.35);
      pointer-events:none;
    }
    @keyframes rip { from{width:0;height:0;opacity:.55} to{width:420px;height:420px;opacity:0} }

    /* ===== Loader ===== */
    .loader-hide { opacity:0; transform: translateY(-6px); pointer-events:none; transition: 500ms cubic-bezier(.2,.8,.2,1); }
    .loader-show { opacity:1; transform: translateY(0); }
    @keyframes drip {
      0% { transform: translateY(-18px); opacity: 0; }
      20% { opacity: 1; }
      100% { transform: translateY(26px); opacity: 0; }
    }
    .drip { animation: drip 1.5s infinite ease-in-out; }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
    }
  </style>
</head>

<body class="min-h-screen bg-cocoa-950 text-cream">
  <!-- ===== FULLSCREEN LOADER ===== -->
  <div id="loader" class="fixed inset-0 z-[999] flex items-center justify-center bg-cocoa-950 loader-show">
    <div class="absolute inset-0 noise"></div>

    <!-- subtle top "chocolate drip" -->
    <div class="absolute top-0 left-0 right-0 h-24">
      <svg class="w-full h-full opacity-70" viewBox="0 0 1440 160" xmlns="http://www.w3.org/2000/svg">
        <path fill="#241411" d="M0,48 C120,96 240,24 360,64 C480,104 600,40 720,72 C840,104 960,56 1080,80 C1200,104 1320,88 1440,64 L1440,0 L0,0 Z"></path>
      </svg>
      <div class="absolute left-24 top-10 w-2 h-6 rounded-full bg-cocoa-700 drip"></div>
      <div class="absolute left-1/2 top-8 w-2 h-7 rounded-full bg-cocoa-700 drip" style="animation-delay:.25s"></div>
      <div class="absolute right-40 top-12 w-2 h-5 rounded-full bg-cocoa-700 drip" style="animation-delay:.5s"></div>
    </div>

    <div class="relative w-full max-w-md px-6">
      <div class="rounded-3xl border border-white/10 bg-white/5 p-6 shadow-glow grain">
        <div class="flex items-center justify-between gap-4">
          <div>
            <p class="text-xs text-cream/70">Loading</p>
            <h2 class="text-xl font-extrabold tracking-tight">
              $2 Chocolate Bar Drop
              <span class="text-gold">‚Ä¢</span>
              Courtyard
            </h2>
          </div>
          <!-- simple spinner -->
          <div class="h-9 w-9 rounded-full border-2 border-white/15 border-t-mint animate-spin"></div>
        </div>

        <p class="mt-4 text-sm text-cream/70 leading-relaxed">
          Modern vibes. Fast checkout. Morning handoff.
        </p>

        <div class="mt-5">
          <div class="flex items-center justify-between text-xs text-cream/60">
            <span>Preparing the site</span>
            <span id="loadPct">0%</span>
          </div>
          <div class="mt-2 h-2 rounded-full bg-white/10 overflow-hidden">
            <div id="loadBar" class="h-full w-0 rounded-full bg-gradient-to-r from-gold via-mint to-gold"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Background layers ===== -->
  <div class="fixed inset-0 -z-20 noise"></div>
  <div class="fixed inset-0 -z-10 grain"></div>

  <!-- ===== Floating product PNGs / SVG fallback =====
       Put PNGs in the same folder:
       - choc-left.png
       - choc-right.png
       If missing, it falls back to SVG automatically.
  -->
  <div class="pointer-events-none fixed inset-0 -z-5 overflow-hidden">
    <div class="absolute -left-14 top-24 w-[260px] opacity-[0.22]" style="animation: floaty 7.5s ease-in-out infinite;">
      <img src="choc-left.png" alt="" class="w-full drop-shadow-[0_40px_60px_rgba(0,0,0,.35)] rounded-[28px]"
           onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
      <svg style="display:none" viewBox="0 0 420 700" xmlns="http://www.w3.org/2000/svg" class="w-full drop-shadow-[0_40px_60px_rgba(0,0,0,.35)]">
        <defs>
          <linearGradient id="foilA" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#0f2a52"/>
            <stop offset="1" stop-color="#071428"/>
          </linearGradient>
          <linearGradient id="chocA" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#2b160f"/>
            <stop offset="0.55" stop-color="#4a241d"/>
            <stop offset="1" stop-color="#140c0a"/>
          </linearGradient>
        </defs>
        <path d="M55 25h310c22 0 40 18 40 40v570c0 22-18 40-40 40H55c-22 0-40-18-40-40V65c0-22 18-40 40-40z" fill="url(#foilA)" opacity=".95"/>
        <rect x="70" y="165" width="280" height="140" rx="28" fill="rgba(255,255,255,.08)"/>
        <text x="210" y="245" text-anchor="middle" font-family="system-ui" font-size="42" fill="rgba(255,255,255,.86)" font-weight="900">CHOC</text>
        <text x="210" y="285" text-anchor="middle" font-family="system-ui" font-size="18" fill="rgba(255,255,255,.65)" font-weight="700">full size</text>
        <g transform="translate(95 360)">
          <rect x="0" y="0" width="230" height="270" rx="26" fill="url(#chocA)"/>
          <g opacity=".22" fill="#fff">
            <rect x="18" y="18" width="88" height="70" rx="16"/>
            <rect x="124" y="18" width="88" height="70" rx="16"/>
            <rect x="18" y="98" width="88" height="70" rx="16"/>
            <rect x="124" y="98" width="88" height="70" rx="16"/>
            <rect x="18" y="178" width="88" height="70" rx="16"/>
            <rect x="124" y="178" width="88" height="70" rx="16"/>
          </g>
        </g>
      </svg>
    </div>

    <div class="absolute -right-16 top-40 w-[290px] opacity-[0.18]" style="animation: floaty2 8.25s ease-in-out infinite;">
      <img src="choc-right.png" alt="" class="w-full drop-shadow-[0_40px_60px_rgba(0,0,0,.35)] rounded-[28px]"
           onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
      <svg style="display:none" viewBox="0 0 420 700" xmlns="http://www.w3.org/2000/svg" class="w-full drop-shadow-[0_40px_60px_rgba(0,0,0,.35)]">
        <defs>
          <linearGradient id="foilB" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#3b0f17"/>
            <stop offset="1" stop-color="#18070b"/>
          </linearGradient>
          <linearGradient id="chocB" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#2a120d"/>
            <stop offset="0.55" stop-color="#623126"/>
            <stop offset="1" stop-color="#140c0a"/>
          </linearGradient>
        </defs>
        <path d="M55 25h310c22 0 40 18 40 40v570c0 22-18 40-40 40H55c-22 0-40-18-40-40V65c0-22 18-40 40-40z" fill="url(#foilB)" opacity=".95"/>
        <rect x="70" y="165" width="280" height="140" rx="28" fill="rgba(255,255,255,.07)"/>
        <text x="210" y="245" text-anchor="middle" font-family="system-ui" font-size="42" fill="rgba(255,255,255,.86)" font-weight="900">$2</text>
        <text x="210" y="285" text-anchor="middle" font-family="system-ui" font-size="18" fill="rgba(255,255,255,.65)" font-weight="700">courtyard pickup</text>
        <g transform="translate(95 360)">
          <rect x="0" y="0" width="230" height="270" rx="26" fill="url(#chocB)"/>
          <g opacity=".22" fill="#fff">
            <rect x="18" y="18" width="88" height="70" rx="16"/>
            <rect x="124" y="18" width="88" height="70" rx="16"/>
            <rect x="18" y="98" width="88" height="70" rx="16"/>
            <rect x="124" y="98" width="88" height="70" rx="16"/>
            <rect x="18" y="178" width="88" height="70" rx="16"/>
            <rect x="124" y="178" width="88" height="70" rx="16"/>
          </g>
        </g>
      </svg>
    </div>
  </div>

  <!-- ===== Sticky top bar ===== -->
  <header class="sticky top-0 z-40 border-b border-white/10 bg-cocoa-950/70 backdrop-blur-xl">
    <div class="mx-auto max-w-6xl px-4 py-3 flex items-center justify-between gap-3">
      <div class="flex items-center gap-3">
        <div class="h-9 w-9 rounded-2xl bg-white/5 border border-white/10 grid place-items-center shadow-soft">
          <span class="text-gold font-black">üç´</span>
        </div>
        <div class="leading-tight">
          <p class="text-sm font-extrabold tracking-tight">Courtyard Chocolate</p>
          <p class="text-xs text-cream/65">Full-size bars ‚Ä¢ morning drop</p>
        </div>
      </div>

      <div class="hidden sm:flex items-center gap-2 text-sm text-cream/80">
        <span class="inline-flex h-2 w-2 rounded-full bg-mint animate-pulse"></span>
        <span><span class="font-semibold text-cream">7:20‚Äì7:45 AM</span> ‚Ä¢ Courtyard ‚Ä¢ Universal area</span>
      </div>

      <button id="goReserve" class="ripple rounded-2xl bg-white/10 hover:bg-white/15 border border-white/15 px-4 py-2 text-sm font-semibold">
        Reserve
      </button>
    </div>
  </header>

  <!-- ===== Main ===== -->
  <main class="mx-auto max-w-6xl px-4 py-10 sm:py-14">
    <!-- HERO -->
    <section class="grid lg:grid-cols-12 gap-8 items-start">
      <div class="lg:col-span-7">
        <div class="reveal inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-cream/80">
          <span class="font-bold text-cream">$2</span>
          <span class="text-gold">‚Ä¢</span>
          <span>full-size Hershey bar vibe</span>
        </div>

        <h1 class="reveal mt-4 text-4xl sm:text-6xl font-black tracking-tight leading-[1.02]">
          Modern chocolate drop.
          <span class="text-gold">Two bucks</span>.
        </h1>

        <p class="reveal mt-4 text-cream/75 text-base sm:text-lg leading-relaxed">
          Same full-size chocolate bar energy, priced for a quick morning grab.
          Reserve your bars and meet in the courtyard.
        </p>

        <div class="reveal mt-6 flex flex-col sm:flex-row gap-3">
          <button id="scrollCompare" class="ripple rounded-2xl bg-gradient-to-r from-gold via-mint to-gold text-cocoa-950 font-extrabold px-6 py-3 shadow-soft hover:brightness-95">
            Compare prices
          </button>
          <button id="scrollMeet" class="ripple rounded-2xl bg-white/10 hover:bg-white/15 border border-white/15 font-semibold px-6 py-3">
            Meetup details
          </button>
        </div>

        <div class="mt-8 grid sm:grid-cols-3 gap-3">
          <div class="reveal shine rounded-3xl border border-white/10 bg-white/5 p-5 shadow-soft">
            <p class="text-xs text-cream/65">Price</p>
            <p class="mt-1 text-2xl font-black">$<span id="myPriceBadge">2.00</span></p>
            <p class="text-xs text-cream/55 mt-1">per full-size bar</p>
          </div>
          <div class="reveal shine rounded-3xl border border-white/10 bg-white/5 p-5 shadow-soft">
            <p class="text-xs text-cream/65">Window</p>
            <p class="mt-1 text-2xl font-black">7:20‚Äì7:45</p>
            <p class="text-xs text-cream/55 mt-1">AM, morning only</p>
          </div>
          <div class="reveal shine rounded-3xl border border-white/10 bg-white/5 p-5 shadow-soft">
            <p class="text-xs text-cream/65">Spot</p>
            <p class="mt-1 text-2xl font-black">Courtyard</p>
            <p class="text-xs text-cream/55 mt-1">Universal area</p>
          </div>
        </div>
      </div>

      <!-- Reserve card -->
      <aside class="lg:col-span-5">
        <div id="reserveCard" class="reveal shine rounded-[28px] border border-white/10 bg-white/5 p-6 shadow-glow">
          <div class="flex items-start justify-between gap-4">
            <div>
              <p class="text-sm text-cream/70">Today‚Äôs drop</p>
              <h2 class="text-2xl font-black mt-1">Full-size bars for $2</h2>
              <p class="text-sm text-cream/65 mt-1">Courtyard pickup ‚Ä¢ 7:20‚Äì7:45 AM</p>
            </div>
            <div class="rounded-2xl bg-mint/10 border border-mint/25 px-3 py-2 text-mint text-xs font-semibold">
              quick handoff
            </div>
          </div>

          <div class="mt-5 grid grid-cols-2 gap-3">
            <label class="block">
              <span class="text-xs text-cream/70">Quantity</span>
              <input id="qty" type="number" min="1" value="1"
                class="mt-1 w-full rounded-2xl bg-cocoa-950/50 border border-white/10 px-4 py-3 outline-none focus:border-gold/60" />
            </label>
            <label class="block">
              <span class="text-xs text-cream/70">Your price ($)</span>
              <input id="myPrice" type="number" min="0.5" step="0.01" value="2.00"
                class="mt-1 w-full rounded-2xl bg-cocoa-950/50 border border-white/10 px-4 py-3 outline-none focus:border-gold/60" />
            </label>
          </div>

          <div class="mt-4 rounded-3xl border border-white/10 bg-cocoa-950/35 p-5">
            <div class="flex items-center justify-between">
              <p class="text-sm text-cream/70">Total</p>
              <p class="text-3xl font-black">$<span id="total">2.00</span></p>
            </div>
            <p class="mt-2 text-xs text-cream/55">
              Add your payment method text here if you want.
            </p>
          </div>

          <div class="mt-5 grid sm:grid-cols-2 gap-3">
            <button id="reserveBtn" class="ripple rounded-2xl bg-gradient-to-r from-gold via-mint to-gold text-cocoa-950 font-extrabold px-5 py-3 hover:brightness-95 shadow-soft">
              Reserve now
            </button>
            <button id="copyMeet" class="ripple rounded-2xl bg-white/10 hover:bg-white/15 border border-white/15 font-semibold px-5 py-3">
              Copy meetup
            </button>
          </div>

          <p id="reserveMsg" class="mt-3 text-sm text-cream/75 whitespace-pre-line"></p>
          <p class="mt-4 text-xs text-cream/50">
            Keep it respectful and follow any school rules about selling.
          </p>
        </div>
      </aside>
    </section>

    <!-- Comparison -->
    <section id="compare" class="mt-14">
      <div class="flex items-end justify-between gap-4 flex-wrap">
        <div>
          <h3 class="reveal text-2xl font-black">Price comparison</h3>
          <p class="reveal text-cream/70 mt-1">Example prices vs your $2 deal (edit these anytime).</p>
        </div>
        <div class="reveal text-xs text-cream/55">Prices can vary by store/promos.</div>
      </div>

      <div class="reveal mt-6 overflow-hidden rounded-[28px] border border-white/10 bg-white/5 shadow-soft">
        <div class="overflow-x-auto">
          <table class="min-w-full text-left">
            <thead class="bg-cocoa-950/40">
              <tr>
                <th class="px-5 py-4 text-xs font-semibold text-cream/80">Retailer</th>
                <th class="px-5 py-4 text-xs font-semibold text-cream/80">Example price</th>
                <th class="px-5 py-4 text-xs font-semibold text-cream/80">You save (per bar)</th>
                <th class="px-5 py-4 text-xs font-semibold text-cream/80">You save (your qty)</th>
              </tr>
            </thead>
            <tbody id="compareBody" class="divide-y divide-white/10"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Meetup -->
    <section id="meet" class="mt-14 grid lg:grid-cols-12 gap-6">
      <div class="reveal lg:col-span-7 rounded-[28px] border border-white/10 bg-white/5 p-6 shadow-soft">
        <h3 class="text-2xl font-black">Meetup details</h3>
        <p class="mt-2 text-cream/75 leading-relaxed">
          Meet in the <span class="text-cream font-semibold">courtyard</span> during
          <span class="text-cream font-semibold">7:20‚Äì7:45 AM</span>, in the
          <span class="text-cream font-semibold">Universal area</span>.
        </p>

        <div class="mt-5 grid sm:grid-cols-2 gap-3">
          <div class="rounded-3xl border border-white/10 bg-cocoa-950/35 p-5">
            <p class="text-xs text-cream/65">Window</p>
            <p class="text-lg font-black mt-1">7:20‚Äì7:45 AM</p>
            <p class="text-xs text-cream/55 mt-1">quick handoff, then go</p>
          </div>
          <div class="rounded-3xl border border-white/10 bg-cocoa-950/35 p-5">
            <p class="text-xs text-cream/65">Spot</p>
            <p class="text-lg font-black mt-1">Courtyard</p>
            <p class="text-xs text-cream/55 mt-1">Universal area</p>
          </div>
        </div>
      </div>

      <div class="reveal lg:col-span-5 rounded-[28px] border border-white/10 bg-white/5 p-6 shadow-soft">
        <h3 class="text-2xl font-black">FAQ</h3>
        <div class="mt-4 space-y-3">
          <details class="rounded-3xl border border-white/10 bg-cocoa-950/35 p-5">
            <summary class="cursor-pointer font-semibold">Full size?</summary>
            <p class="mt-2 text-sm text-cream/70">Yes, full-size bars (not fun size).</p>
          </details>
          <details class="rounded-3xl border border-white/10 bg-cocoa-950/35 p-5">
            <summary class="cursor-pointer font-semibold">How fast is pickup?</summary>
            <p class="mt-2 text-sm text-cream/70">Usually a quick 30-second handoff if you‚Äôre on time.</p>
          </details>
          <details class="rounded-3xl border border-white/10 bg-cocoa-950/35 p-5">
            <summary class="cursor-pointer font-semibold">How do I reserve?</summary>
            <p class="mt-2 text-sm text-cream/70">Tap Reserve and it generates a message you can send.</p>
          </details>
        </div>
      </div>
    </section>

    <footer class="mt-14 pb-10 text-xs text-cream/55">
      <div class="border-t border-white/10 pt-6 flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between">
        <p>¬© <span id="year"></span> Courtyard Chocolate</p>
        <p>Drop your PNGs in the folder as <span class="text-cream/80">choc-left.png</span> and <span class="text-cream/80">choc-right.png</span>.</p>
      </div>
    </footer>
  </main>

  <script>
    // ===== Loader simulation (smooth + quick) =====
    const loader = document.getElementById("loader");
    const loadPct = document.getElementById("loadPct");
    const loadBar = document.getElementById("loadBar");

    let p = 0;
    const tick = setInterval(() => {
      p += Math.max(1, Math.floor((100 - p) * 0.12));
      if (p > 100) p = 100;
      loadPct.textContent = p + "%";
      loadBar.style.width = p + "%";
      if (p === 100) {
        clearInterval(tick);
        setTimeout(() => loader.classList.add("loader-hide"), 250);
        setTimeout(() => loader.remove(), 850);
      }
    }, 60);

    // ===== Data for comparison (edit to your liking) =====
    // Kept as examples so you can change them easily.
    const retailers = [
      { source: "Convenience store (example)", price: 4.99 },
      { source: "Delivery / app (example)", price: 3.79 },
      { source: "Drugstore (example)", price: 2.49 },
      { source: "Big retailer (example)", price: 1.99 },
      { source: "Multipack avg (example)", price: 1.39 }
    ];

    const elQty = document.getElementById("qty");
    const elMyPrice = document.getElementById("myPrice");
    const elTotal = document.getElementById("total");
    const elCompareBody = document.getElementById("compareBody");
    const elMyPriceBadge = document.getElementById("myPriceBadge");
    const reserveMsg = document.getElementById("reserveMsg");

    const money = (n) => (Math.round(n * 100) / 100).toFixed(2);

    function render() {
      const qty = Math.max(1, parseInt(elQty.value || "1", 10));
      const myPrice = Math.max(0, parseFloat(elMyPrice.value || "2"));
      elQty.value = qty;
      elMyPrice.value = money(myPrice);
      elMyPriceBadge.textContent = money(myPrice);
      elTotal.textContent = money(qty * myPrice);

      elCompareBody.innerHTML = "";
      retailers.slice().sort((a,b)=>b.price-a.price).forEach(r => {
        const perSave = r.price - myPrice;
        const perSaveSafe = Math.max(0, perSave);
        const totalSave = perSaveSafe * qty;

        const tr = document.createElement("tr");
        tr.className = "hover:bg-white/5 transition";
        tr.innerHTML = `
          <td class="px-5 py-4 text-sm text-cream/85">${r.source}</td>
          <td class="px-5 py-4 text-sm text-cream/85">$${money(r.price)}</td>
          <td class="px-5 py-4 text-sm ${perSave >= 0 ? "text-mint" : "text-cream/45"}">
            ${perSave >= 0 ? "$" + money(perSaveSafe) : "‚Äî"}
          </td>
          <td class="px-5 py-4 text-sm ${perSave >= 0 ? "text-mint" : "text-cream/45"}">
            ${perSave >= 0 ? "$" + money(totalSave) : "‚Äî"}
          </td>
        `;
        elCompareBody.appendChild(tr);
      });
    }

    // ===== Scroll reveal =====
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => { if (e.isIntersecting) e.target.classList.add("in"); });
    }, { threshold: 0.12 });
    document.querySelectorAll(".reveal").forEach(el => io.observe(el));

    // ===== Smooth scroll =====
    document.getElementById("scrollCompare").addEventListener("click", () =>
      document.getElementById("compare").scrollIntoView({ behavior: "smooth", block: "start" })
    );
    document.getElementById("scrollMeet").addEventListener("click", () =>
      document.getElementById("meet").scrollIntoView({ behavior: "smooth", block: "start" })
    );
    document.getElementById("goReserve").addEventListener("click", () =>
      document.getElementById("reserveCard").scrollIntoView({ behavior: "smooth", block: "start" })
    );

    // ===== Reserve / copy =====
    document.getElementById("reserveBtn").addEventListener("click", async () => {
      const qty = Math.max(1, parseInt(elQty.value || "1", 10));
      const myPrice = Math.max(0, parseFloat(elMyPrice.value || "2"));
      const msg =
`Reserve request:
- Qty: ${qty}
- Price: $${money(myPrice)} each (total $${money(qty * myPrice)})
- Pickup: Courtyard (Universal area), 7:20‚Äì7:45 AM`;

      try {
        await navigator.clipboard.writeText(msg);
        reserveMsg.textContent = "Reservation text copied to clipboard.";
      } catch (e) {
        reserveMsg.textContent = "Clipboard blocked. Copy this:\n\n" + msg;
      }
    });

    document.getElementById("copyMeet").addEventListener("click", async () => {
      const meet = "Meetup: Courtyard (Universal area) ‚Ä¢ 7:20‚Äì7:45 AM ‚Ä¢ quick pickup";
      try {
        await navigator.clipboard.writeText(meet);
        reserveMsg.textContent = "Meetup info copied.";
      } catch (e) {
        reserveMsg.textContent = "Copy this:\n\n" + meet;
      }
    });

    // ===== Ripple buttons =====
    document.querySelectorAll(".ripple").forEach(btn => {
      btn.addEventListener("click", (e) => {
        const r = btn.getBoundingClientRect();
        const s = document.createElement("span");
        s.className = "rip";
        s.style.left = (e.clientX - r.left) + "px";
        s.style.top = (e.clientY - r.top) + "px";
        btn.appendChild(s);
        setTimeout(() => s.remove(), 700);
      });
    });

    // ===== init =====
    elQty.addEventListener("input", render);
    elMyPrice.addEventListener("input", render);
    document.getElementById("year").textContent = new Date().getFullYear();
    render();
  </script>
</body>
</html>
